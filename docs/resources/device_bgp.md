---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "fmc_device_bgp Resource - terraform-provider-fmc"
subcategory: "Devices"
description: |-
  This resouce manages Device BGP Settings. As pre-requisite, BGP has to be enabled and AS Number assigned under BGP General Settings (fmc_device_bgp_general_settings).
---

# fmc_device_bgp (Resource)

This resouce manages Device BGP Settings. As pre-requisite, BGP has to be enabled and AS Number assigned under BGP General Settings (fmc_device_bgp_general_settings).

## Example Usage

```terraform
resource "fmc_device_bgp" "example" {
  device_id                         = "76d24097-41c4-4558-a4d0-a8c07ac08470"
  ipv4_default_information_orginate = false
  ipv4_auto_summary                 = false
  ipv4_suppress_inactive_routes     = false
  ipv4_synchronization              = false
  ipv4_redistribute_ibgp_into_igp   = false
  ipv4_external_distance            = 20
  ipv4_internal_distance            = 200
  ipv4_local_distance               = 200
  ipv4_number_of_ibgp_paths         = 1
  ipv4_number_of_ebgp_paths         = 1
  ipv4_neighbors = [
    {
      address                    = "10.1.1.1"
      remote_as                  = "65534"
      bfd_fallover               = "SINGLE_HOP"
      update_source_interface_id = "76d24097-41c4-4558-a4d0-a8c07ac08470"
      enable_address             = true
      as_override                = false
      shutdown_administratively  = false
      description                = "My BGP Peer"
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `device_id` (String) Id of the parent device.

### Optional

- `domain` (String) Name of the FMC domain
- `ipv4_aggregate_addresses` (Attributes List) Generate aggregate address information for IPv4. (see [below for nested schema](#nestedatt--ipv4_aggregate_addresses))
- `ipv4_auto_summary` (Boolean) Summarize subnet routes into network level routes
- `ipv4_default_information_orginate` (Boolean) Generate default route
- `ipv4_external_distance` (Number) Administrative route distance for external routes
  - Range: `1`-`255`
  - Default value: `20`
- `ipv4_filterings` (Attributes List) Filter routes or networks received in incoming BGP updates (see [below for nested schema](#nestedatt--ipv4_filterings))
- `ipv4_internal_distance` (Number) Administrative route distance for internal routes
  - Range: `1`-`255`
  - Default value: `200`
- `ipv4_learned_route_map_id` (String) Learned Route Map ID
- `ipv4_local_distance` (Number) Administrative route distance for local routes
  - Range: `1`-`255`
  - Default value: `200`
- `ipv4_neighbors` (Attributes List) (see [below for nested schema](#nestedatt--ipv4_neighbors))
- `ipv4_networks` (Attributes List) Add networks that will be advertised by the BGP routing process (see [below for nested schema](#nestedatt--ipv4_networks))
- `ipv4_number_of_ebgp_paths` (Number) Number of paths to use for EBGP
  - Range: `1`-`8`
  - Default value: `1`
- `ipv4_number_of_ibgp_paths` (Number) Number of paths to use for IBGP
  - Range: `1`-`8`
  - Default value: `1`
- `ipv4_redistribute_ibgp_into_igp` (Boolean) Redistribute IBGP into IGP. Use filtering to limit the number of prefixes that are redistributed.
- `ipv4_redistributions` (Attributes List) Define the conditions for redistributing routes from another routing domain into BGP. (see [below for nested schema](#nestedatt--ipv4_redistributions))
- `ipv4_route_injections` (Attributes List) Define routes to be conditionally injected into the BGP routing table. (see [below for nested schema](#nestedatt--ipv4_route_injections))
- `ipv4_suppress_inactive_routes` (Boolean) Suppressing advertisement of inactive routes
- `ipv4_synchronization` (Boolean) Synchronize between BGP and IGP systems

### Read-Only

- `as_number` (String) Autonomus System (AS) number
- `id` (String) Id of the object
- `ipv4_address_family_id` (String) IPv4 Address Family Id
- `ipv4_address_family_type` (String) IPv4 Address Family Type
- `name` (String) Name of the object; this is always 'bgp'
- `type` (String) Type of the object; this is always 'bgp'

<a id="nestedatt--ipv4_aggregate_addresses"></a>
### Nested Schema for `ipv4_aggregate_addresses`

Required:

- `network_id` (String) Network ID (desired network/host object)

Optional:

- `advertise_map_id` (String) Advertise Route Map ID (select the routes to create AS_SET origin communities)
- `attribute_map_id` (String) Attribute Route Map ID (set the attribute of the aggregate route).
- `filter` (Boolean) Filter all routes from updates (summary only)
- `generate_as` (Boolean) Generate AS set path information
- `suppress_map_id` (String) Suppress Route Map ID (select the routes to be suppressed).


<a id="nestedatt--ipv4_filterings"></a>
### Nested Schema for `ipv4_filterings`

Required:

- `access_list_id` (String) Standard Access List ID that defines which networks are to be received and which are to be suppressed in routing updates.
- `direction` (String) Determine if the filter should be applied to inbound updates or outbound updates.
  - Choices: `incomingroutefilter`, `outgoingroutefilter`

Optional:

- `process_id` (String) Process ID for the OSPF routing protocol.
- `protocol` (String) Routing process for which you want to filter
  - Choices: `CONNECTED`, `BGP`, `OSPF`, `RIP`, `STATIC`


<a id="nestedatt--ipv4_neighbors"></a>
### Nested Schema for `ipv4_neighbors`

Required:

- `address` (String) IP address of the BGP neighbor
- `remote_as` (String) AS number of the BGP neighbor

Optional:

- `as_override` (Boolean) Enable overriding of the AS number of the originating router with the AS number of the sending BGP router.
- `authentication_password` (String, Sensitive) Setting password enables authentication.
- `bfd_fallover` (String) BFD Fallover
  - Choices: `SINGLE_HOP`, `MULTI_HOP`, `AUTO_DETECT_HOP`, `NONE`
  - Default value: `NONE`
- `customized_accept_both_as` (Boolean) Accept either real AS number or local AS number in routes experienced from neighbor
- `customized_local_as_number` (String) Customize the AS number for the routes received from neighbor
- `customized_no_prepend` (Boolean) Do not prepend local AS number to routes received from neighbor
- `customized_replace_as` (Boolean) Replace real AS number with local AS number in routes received from neighbor
- `description` (String) Description of the neighbor
- `disable_connection_verification` (Boolean) Disable Connection Verification
  - Default value: `false`
- `enable_address` (Boolean) Enable communication with this BGP neighbor
  - Default value: `false`
- `filter_access_lists` (Attributes List) Set incoming or outgoing Standard Access List to distribute BGP neighbor information. (see [below for nested schema](#nestedatt--ipv4_neighbors--filter_access_lists))
- `filter_as_paths` (Attributes List) Set incoming or outgoing AS path filter to distribute BGP neighbor information. (see [below for nested schema](#nestedatt--ipv4_neighbors--filter_as_paths))
- `filter_maximum_prefixes` (Number) Maximum number of prefixes allowed from the neighbor
  - Range: `1`-`2147483647`
- `filter_prefix_lists` (Attributes List) Set incoming or outgoing Prefix List to distribute BGP neighbor information. (see [below for nested schema](#nestedatt--ipv4_neighbors--filter_prefix_lists))
- `filter_restart_interval` (Number) Time interval to restart the maximum prefix limit in Minutes
  - Range: `1`-`65535`
- `filter_route_maps` (Attributes List) Set incoming or outgoing Route Maps to apply a route map to incoming or outgoing routes. (see [below for nested schema](#nestedatt--ipv4_neighbors--filter_route_maps))
- `filter_threshold_value` (Number) Threshold value for the maximum number of prefixes allowed from the neighbor (implies session termination).
  - Range: `1`-`100`
- `filter_warning_only` (Boolean) Give only warning message when prefix limit exceeded. Can be set to `true` only. Use `neighbor_filter_threshold_value` to set mode to session termination.
- `graceful_restart` (Boolean) Enable graceful restart for the neighbor.
- `hold_time` (Number) Time interval to hold the neighbor in seconds
  - Range: `3`-`65535`
- `keepalive_interval` (Number) Time interval to send keepalive messages in seconds
  - Range: `0`-`65535`
- `max_hop_count` (Number) Maximum number of hops to reach the neighbor
  - Range: `1`-`255`
  - Default value: `1`
- `minimum_hold_time` (Number) Minimum hold time in seconds
  - Range: `3`-`65535`
- `next_hop_self` (Boolean) Use itself as next hop for this neighbor
  - Default value: `false`
- `routes_advertise_maps` (Attributes List) Define conditionally advertised routes. (see [below for nested schema](#nestedatt--ipv4_neighbors--routes_advertise_maps))
- `routes_advertisement_interval` (Number) Time interval to advertise routes in seconds
  - Range: `0`-`600`
  - Default value: `0`
- `routes_generate_default_route_map_id` (String) Generate default routes - Route Map
- `routes_remove_private_as` (Boolean) Remove private AS numbers from outgoing routing updates
  - Default value: `false`
- `send_community_attribute` (Boolean) Send Community attribute to this neighbor
  - Default value: `false`
- `shutdown_administratively` (Boolean) Disable a neighbor or peer group
  - Default value: `false`
- `tcp_path_mtu_discovery` (Boolean) Use TCP path MTU discovery.
  - Default value: `false`
- `tcp_transport_mode` (Boolean) True set it to active, False to passive.
  - Default value: `false`
- `update_source_interface_id` (String) Interface ID for the update source
- `version` (String) Set BGP version: 0 - default, 4 - IPv4
  - Choices: `0`, `4`
  - Default value: `0`
- `weight` (Number) Weight of the neighbor
  - Range: `0`-`65535`
  - Default value: `0`

<a id="nestedatt--ipv4_neighbors--filter_access_lists"></a>
### Nested Schema for `ipv4_neighbors.filter_access_lists`

Required:

- `access_list_id` (String) Access List ID
- `update_direction` (String) Filter direction
  - Choices: `IN`, `OUT`


<a id="nestedatt--ipv4_neighbors--filter_as_paths"></a>
### Nested Schema for `ipv4_neighbors.filter_as_paths`

Required:

- `as_path_id` (String) AS Path ID
- `as_path_name` (String) AS Path Name
- `update_direction` (String) Filter direction
  - Choices: `IN`, `OUT`


<a id="nestedatt--ipv4_neighbors--filter_prefix_lists"></a>
### Nested Schema for `ipv4_neighbors.filter_prefix_lists`

Required:

- `prefix_list_id` (String) Prefix List ID
- `update_direction` (String) Filter direction
  - Choices: `IN`, `OUT`


<a id="nestedatt--ipv4_neighbors--filter_route_maps"></a>
### Nested Schema for `ipv4_neighbors.filter_route_maps`

Required:

- `route_map_id` (String) Route Map ID
- `update_direction` (String) Filter direction
  - Choices: `IN`, `OUT`


<a id="nestedatt--ipv4_neighbors--routes_advertise_maps"></a>
### Nested Schema for `ipv4_neighbors.routes_advertise_maps`

Required:

- `advertise_map_id` (String) Specified route maps are advertised when conditions of the exist map or the non-exist map are met.
- `exist_nonexist_map_id` (String) Specify exist / non-exist route map ID.
- `use_exist_map` (Boolean) Set mode to Exist Map (true) or Non-Exist Map (false).



<a id="nestedatt--ipv4_networks"></a>
### Nested Schema for `ipv4_networks`

Required:

- `network_id` (String) Network to be advertised by the BGP routing processes.

Optional:

- `route_map_id` (String) Route Map ID that should be examined to filter the networks to be advertised


<a id="nestedatt--ipv4_redistributions"></a>
### Nested Schema for `ipv4_redistributions`

Required:

- `source_protocol` (String) Protocol to redistribute
  - Choices: `RedistributeConnected`, `RedistributeStatic`, `RedistributeOSPF`, `RedistributeEIGRP`

Optional:

- `match_external1` (Boolean) Match OSPF External 1 metrics
- `match_external2` (Boolean) Match OSPF External 2 metrics
- `match_internal` (Boolean) Match OSPF Internal metrics
- `match_nssa_external1` (Boolean) Match OSPF NSSA External 1 metrics
- `match_nssa_external2` (Boolean) Match OSPF NSSA External 2 metrics
- `metric` (Number) Metric for the redistributed route.
  - Range: `0`-`4294967295`
- `process_id` (String) OSPF process ID
- `route_map_id` (String) Route Map ID to filter the networks to be redistributed


<a id="nestedatt--ipv4_route_injections"></a>
### Nested Schema for `ipv4_route_injections`

Required:

- `exist_route_map_id` (String) Exist Route Map ID containing the prefixes that the BGP speaker will track
- `inject_route_map_id` (String) Inject Route Map ID (prefixes to inject into the local BGP routing table)

Optional:

- `inherit_attributes` (String) Injected route will inherit the attributes of the aggregate route
  - Default value: `true`

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
# <domain> is optional. If not provided, `Global` is used implicitly and resource's `domain` attribute is not set.
terraform import fmc_device_bgp.example "<domain>,<device_id>,<id>"
```
