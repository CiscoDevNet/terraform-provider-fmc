---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "fmc_device_vtep_policy Resource - terraform-provider-fmc"
subcategory: "Devices"
description: |-
  This resource can manage the Device VTEP Policy. Practicioners should ensure only one resource fmc_device_vtep_policy exists for a single fmc_device, because the FMC API responds with the same single Id for every request to create a new VTEP Policy on the same Device. Thus multiple resources per Device would unexpectedly overwrite the same set of settings.
---

# fmc_device_vtep_policy (Resource)

This resource can manage the Device VTEP Policy. Practicioners should ensure only one resource `fmc_device_vtep_policy` exists for a single `fmc_device`, because the FMC API responds with the same single Id for every request to create a new VTEP Policy on the same Device. Thus multiple resources per Device would unexpectedly overwrite the same set of settings.

## Example Usage

```terraform
resource "fmc_device_vtep_policy" "example" {
  device_id = "76d24097-41c4-4558-a4d0-a8c07ac08470"
  vteps = [
    {
      source_interface_id      = "76d24097-41c4-4558-a4d0-a8c07ac08470"
      nve_number               = 1
      neighbor_discovery       = "STATIC_PEER_IP"
      neighbor_address_literal = "192.168.0.1"
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `device_id` (String) Id of the parent device.

### Optional

- `domain` (String) Name of the FMC domain
- `nve_enabled` (Boolean) Indicates whether to enable NVE on the `device_id`. Can only be false if `vteps` are empty.
  - Default value: `true`
- `vteps` (Attributes List) List that can either be empty or contain one VTEP object. (see [below for nested schema](#nestedatt--vteps))

### Read-Only

- `id` (String) Id of the object
- `type` (String) Type of the object

<a id="nestedatt--vteps"></a>
### Nested Schema for `vteps`

Required:

- `neighbor_discovery` (String) How to discover addresses of the neighbor VTEPs for the VTEP-to-VTEP communication. For STATIC_PEER_IP and DEFAULT_MULTICAST_GROUP you must set `neighbor_address_literal` to a single IP address. For STATIC_PEER_GROUP you must however set `neighbor_address_id` to a ID of a network group and such network group can contain only IPv4 Hosts and IPv4 Ranges (but not Networks, etc.).
  - Choices: `NONE`, `STATIC_PEER_IP`, `STATIC_PEER_GROUP`, `DEFAULT_MULTICAST_GROUP`

Optional:

- `encapsulation_port` (Number) Encapsulation port number. For VXLAN suggested 4789 (default), for GENEVE suggested 6081.
  - Range: `1024`-`65535`
  - Default value: `4789`
- `encapsulation_type` (String) Encapsulation type.
  - Choices: `VXLAN`, `GENEVE`
  - Default value: `VXLAN`
- `neighbor_address_id` (String) Used for `neighbor_discovery` STATIC_PEER_GROUP, where it holds ID of the network group and such network group can contain only IPv4 Hosts and IPv4 Ranges (but not Networks, etc.).
- `neighbor_address_literal` (String) Used for `neighbor_discovery` STATIC_PEER_IP, where it holds any unicast IP address. Used for `neighbor_discovery` DEFAULT_MULTICAST_GROUP, where it holds IP address in range 224.0.0.0 to 239.255.255.255.
- `nve_number` (Number) VTEP NVE number, currently must always be 1.
  - Range: `1`-`1`
  - Default value: `1`
- `source_interface_id` (String) Id of the source interface. It cannot refer to a subinterface.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
# <domain> is optional. If not provided, `Global` is used implicitly and resource's `domain` attribute is not set.
terraform import fmc_device_vtep_policy.example "<domain>,<device_id>,<id>"
```
