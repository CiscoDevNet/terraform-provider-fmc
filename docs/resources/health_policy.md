---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "fmc_health_policy Resource - terraform-provider-fmc"
subcategory: "Policies"
description: |-
  This resource manages a Health Policy.
  Due to bug in certain FMC versions, updates are not supported; to change a policy, delete and recreate it.
  Any not configured health module will be created with its default settings.
  Only one ManagementCenterPolicy Health Policy can exist. Due to unability to update policies, ManagementCenterPolicy is not supported.
---

# fmc_health_policy (Resource)

This resource manages a Health Policy.
 Due to bug in certain FMC versions, updates are not supported; to change a policy, delete and recreate it.
 Any not configured health module will be created with its default settings.
 Only one ManagementCenterPolicy Health Policy can exist. Due to unability to update policies, ManagementCenterPolicy is not supported.

## Example Usage

```terraform
resource "fmc_health_policy" "example" {
  name              = "my_health_policy"
  description       = "My health policy"
  policy_type       = "DevicePolicy"
  is_default_policy = false
  health_modules = [
    {
      module_id = "hm_asp_drop"
      enabled   = true
      alert_config = [
        {
          name    = "nat-xlate-failed"
          enabled = true
        }
      ]
    }
  ]
  health_module_run_time_interval = 5
  metric_collection_interval      = 1
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the Health Policy.
- `policy_type` (String) Define, if the policy is for the device or for the management center.
  - Choices: `DevicePolicy`

### Optional

- `description` (String) Description of the Health Policy.
- `domain` (String) Name of the FMC domain
- `health_module_run_time_interval` (Number) Specify the interval (in minutes) for running the health modules.
  - Range: `5`-`60`
  - Default value: `5`
- `health_modules` (Attributes List) Configuration of health modules. (see [below for nested schema](#nestedatt--health_modules))
- `is_default_policy` (Boolean) Specify if this is the default policy.
- `metric_collection_interval` (Number) Specify the frequency (in minutes) for collection of time series data.
  - Range: `1`-`60`
  - Default value: `1`

### Read-Only

- `id` (String) Id of the object
- `type` (String) Object type; This is always `HealthPolicy`

<a id="nestedatt--health_modules"></a>
### Nested Schema for `health_modules`

Required:

- `module_id` (String) Name of the health module.
  - Choices: `hm_disk_status`, `hm_asp_drop`, `hm_tds`, `hm_db`, `hm_conn_status_sse`, `hm_is5800_powersupply`, `hm_card_reset`, `hm_ntp_server`, `hm_threat_grid_amp`, `hm_ftd_ha`, `hm_talosagent`, `hm_conn_status_amp`, `hm_snort_stats`, `hm_critical_process`, `hm_fsic`, `hm_ftd_csdac_identity_services`, `hm_deployed_configuration`, `hm_ftd_config_resource`, `hm_routing_stats`, `hm_vpn_stats`, `hm_snortstats`, `hm_is5800_alarm`, `hm_cluster`, `hm_bypass`, `hm_mu`, `hm_reconfig_detection`, `hm_xTLS`, `hm_pathmonitoring`, `hm_cpu`, `hm_process`, `hm_simu`, `hm_fmcaccess_config_change`, `hm_linkstate_propagation`, `hm_adv_snort_stats`, `hm_sdwan`, `hm_static_analysis`, `hm_chm`, `hm_platform_faults`, `hm_conn_stats`, `hm_fxos_health`, `hm_chassis_status_ftd`, `hm_du`, `hm_ifconfig`, `hm_flow_offload`, `hm_inlinelink_alarm`

Optional:

- `alert_config` (Attributes List) Alert configuration for health module. (see [below for nested schema](#nestedatt--health_modules--alert_config))
- `alert_severity` (String) Severity of health module alert.
  - Choices: `Critical`, `Major`, `Warning`, `Minor`, `Info`
- `critical_threshold` (Number) Critical threshold value for health module.
  - Range: `1`-`99`
- `custom_threshold` (Attributes List) Custom threshold configuration for health module. (see [below for nested schema](#nestedatt--health_modules--custom_threshold))
- `enabled` (Boolean) Enable health module.
- `type` (String) Type of health module.
  - Choices: `FTD`, `FMC_FTD`, `SENSOR`, `FMC`
- `warning_threshold` (Number) Warning threshold value for health module.
  - Range: `1`-`99`

<a id="nestedatt--health_modules--alert_config"></a>
### Nested Schema for `health_modules.alert_config`

Optional:

- `enabled` (Boolean) Enable alert configuration.
- `name` (String) Name of the alert configuration.
- `thresholds` (Attributes List) Thresholds for alert configuration. (see [below for nested schema](#nestedatt--health_modules--alert_config--thresholds))

<a id="nestedatt--health_modules--alert_config--thresholds"></a>
### Nested Schema for `health_modules.alert_config.thresholds`

Optional:

- `type` (String) Type of threshold.
  - Choices: `red`, `yellow`
- `value` (Number) Value of threshold.
  - Range: `1`-`99`



<a id="nestedatt--health_modules--custom_threshold"></a>
### Nested Schema for `health_modules.custom_threshold`

Optional:

- `type` (String) Type of custom threshold.
  - Choices: `Red-FC`, `Yellow-FC`
- `value` (Number) Value of custom threshold.
  - Range: `1`-`99`

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import fmc_health_policy.example "<id>"
```
