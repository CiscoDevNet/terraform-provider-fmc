---
name: VPN RA Load Balancing
rest_endpoint: /api/fmc_config/v1/domain/{DOMAIN_UUID}/policy/ravpns/%v/loadbalancesettings
res_description: This resource manages FTD Remote Access (RA) Virtual Private Networks (VPNs) Load Balancing settings.
put_create: true
retrieve_id: true
put_delete: true
doc_category: VPN
attributes:
  - tf_name: vpn_ra_id
    type: String
    reference: true
    description: Id of the parent VPN RA Topology.
    example: 76d24097-41c4-4558-a4d0-a8c07ac08470
    test_value: fmc_vpn_ra.test.id
  - model_name: type
    type: String
    description: Type of the object; this value is always 'LoadBalanacing'.
    computed: true
  - model_name: type
    type: String
    value: LoadBalanacing

  # Gropu Configuration
  - model_name: enableVpnLoadBalancing
    tf_name: enabled
    type: Bool
    description: Enable load balancing for VPN RA.
    example: "true"
  - model_name: groupIPv4Address
    data_path: [groupSettings]
    tf_name: ipv4_group_address
    type: String
    mandatory: true
    description: IPv4 address of the load balancing group.
    example: "192.168.1.1"
  - model_name: groupIPv6Address
    data_path: [groupSettings]
    tf_name: ipv6_group_address
    type: String
    description: IPv6 address of the load balancing group.
    example: "2001:db8::1"
  - model_name: id
    data_path: [groupSettings, communicationInterface]
    tf_name: interface_id
    type: String
    mandatory: true
    description: Id of the communication interface for the load balancing group.
    example: 76d24097-41c4-4558-a4d0
  - model_name: communicationUdpPort
    data_path: [groupSettings]
    tf_name: udp_port_number
    type: Int64
    description: UDP port number for communication with the load balancing group.
    example: 9023
    min_int: 1
    max_int: 65535
    mandatory: true
  - model_name: enable
    data_path: [groupSettings, ipsecEncryption]
    tf_name: ipsec
    type: Bool
    description: Enable IPsec encryption for the load balancing group.
    example: "true"
  - model_name: encryptionKey
    data_path: [groupSettings, ipsecEncryption]
    tf_name: ipsec_encryption_key
    type: String
    description: Encryption key for the IPsec tunnel.
    example: "my-secret-key"
    sensitive: true
    write_only: true
    string_min_length: 4
    string_max_length: 16
  
  # Settings
  - model_name: redirectUsingFqdn
    data_path: [redirectSettings]
    tf_name: redirect_using_fqdn
    type: Bool
    description: Redirect using FQDN for load balancing.
    example: "false"
  - model_name: ikev2RedirectPhase
    data_path: [redirectSettings]
    tf_name: ikev2_redirect_phase
    type: String
    enum_values: [DURING_SA_AUTHENTICATION, DURING_SA_INITIALIZATION]
    example: DURING_SA_AUTHENTICATION
